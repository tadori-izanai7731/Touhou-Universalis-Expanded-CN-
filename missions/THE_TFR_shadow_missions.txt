THE_TFR_shadow_branch_1 = {
	slot = 1
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = TFR
		has_country_flag = THE_TFR_shadow_mission_flag
	} 

	THE_TFR_shadow_1_3 = {
		icon = mission_unknown_mission
		position = 3
		required_missions = { THE_TFR_shadow_2_2 } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	THE_TFR_shadow_1_5 = {
		icon = mission_unknown_mission
		position = 5
		required_missions = { THE_TFR_shadow_1_3 } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	THE_TFR_shadow_1_6 = {
		icon = mission_unknown_mission
		position = 6
		required_missions = { THE_TFR_shadow_1_5 } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}
}
THE_TFR_shadow_branch_2 = {
	slot = 2
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = TFR
		has_country_flag = THE_TFR_shadow_mission_flag
	} 

	THE_TFR_shadow_2_2 = {
		icon = mission_unknown_mission
		position = 2
		required_missions = { THE_TFR_shadow_3_1 } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {
			4996 = { add_core = ROOT }
			5080 = { add_core = ROOT }
			add_country_modifier = {
				name = THE_TFR_shadow_rebuild_harmony_modifier
				duration = -1
			}
			if = {
				limit = {
					exists = LIL
					LIL = {
						NOT = { num_of_cities = 2 }
						has_country_flag = th_danmaku_duel_lost_against_TFR
					}
				}
				custom_tooltip = THE_TFR_shadow_danmaku_fight_LIL_tt_yes
				inherit = LIL
				custom_tooltip = empty_line_tt
				custom_tooltip = THE_otherwise_tt_no
				tooltip = {
					5084 = { add_core = ROOT }
				}
			}
			else = {
				custom_tooltip = THE_TFR_shadow_danmaku_fight_LIL_tt_no
				tooltip = {
					inherit = LIL
				}
				custom_tooltip = empty_line_tt
				custom_tooltip = THE_otherwise_tt_yes
				5084 = { add_core = ROOT }
			}
			custom_tooltip = empty_line_tt
			custom_tooltip = empty_line_tt
			if = {
				limit = {
					exists = LRV
					LRV = {
						NOT = { num_of_cities = 2 }
						has_country_flag = th_danmaku_duel_lost_against_TFR
					}
				}
				custom_tooltip = THE_TFR_shadow_danmaku_fight_LRV_tt_yes
				inherit = LRV
				custom_tooltip = empty_line_tt
				custom_tooltip = THE_otherwise_tt_no
				tooltip = {
					5083 = { add_core = ROOT }
				}
			}
			else = {
				custom_tooltip = THE_TFR_shadow_danmaku_fight_LRV_tt_no
				tooltip = {
					inherit = LRV
				}
				custom_tooltip = empty_line_tt
				custom_tooltip = THE_otherwise_tt_yes
				5083 = { add_core = ROOT }
			}
		} 
	}

	THE_TFR_shadow_2_3 = {
		icon = mission_unknown_mission
		position = 3
		required_missions = { THE_TFR_shadow_2_2 } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	THE_TFR_shadow_2_4 = {
		icon = mission_unknown_mission
		position = 4
		required_missions = {
			THE_TFR_shadow_2_3
			THE_TFR_shadow_3_3
		}
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	THE_TFR_shadow_2_5 = {
		icon = mission_unknown_mission
		position = 5
		required_missions = { THE_TFR_shadow_2_4 } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	THE_TFR_shadow_2_6 = {
		icon = mission_unknown_mission
		position = 6
		required_missions = {
			THE_TFR_shadow_1_5
			THE_TFR_shadow_2_5
		}
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}
}
THE_TFR_shadow_branch_3 = {
	slot = 3
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = TFR
		has_country_flag = THE_TFR_shadow_mission_flag
	} 

	THE_TFR_shadow_3_1 = {
		icon = mission_unknown_mission
		position = 1
		provinces_to_highlight = {  } 

		trigger = {
			custom_trigger_tooltip = {
				tooltip = THE_TFR_shadow_interact_ttt
				has_country_flag = THE_TFR_shadow_mission_flag
			}
		} 

		effect = {
			add_adm_power = 100
			add_dip_power = 100
			add_mil_power = 100
			custom_tooltip = THE_TFR_shadow_add_permanent_claim_tt
			hidden_effect = {
				gensokyo_continent = { add_permanent_claim = ROOT }
				moon_continent = { add_permanent_claim = ROOT }
			}
			add_country_modifier = {
				name = THE_TFR_shadow_call_fairy_modifier
				duration = -1
			}
			country_event = {
				id = THE_TFR_shadow_events.1
			}
		} 
	}

	THE_TFR_shadow_3_3 = {
		icon = mission_unknown_mission
		position = 3
		required_missions = {
			THE_TFR_shadow_2_2
			THE_TFR_shadow_4_2
		}
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	THE_TFR_shadow_3_5 = {
		icon = mission_unknown_mission
		position = 5
		required_missions = { THE_TFR_shadow_3_3 } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	THE_TFR_shadow_3_6 = {
		icon = mission_unknown_mission
		position = 6
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	THE_TFR_shadow_3_7 = {
		icon = mission_unknown_mission
		position = 7
		required_missions = {
			THE_TFR_shadow_1_6
			THE_TFR_shadow_2_6
			THE_TFR_shadow_3_6
			THE_TFR_shadow_4_6
			THE_TFR_shadow_5_6
		}
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}
}
THE_TFR_shadow_branch_4 = {
	slot = 4
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = TFR
		has_country_flag = THE_TFR_shadow_mission_flag
	} 

	THE_TFR_shadow_4_2 = {
		icon = mission_unknown_mission
		position = 2
		required_missions = { THE_TFR_shadow_3_1 } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {
			add_country_modifier = {
				name = THE_TFR_shadow_eternal_disaster_modifier
				duration = -1
			}
			custom_tooltip = THE_TFR_shadow_every_province_add_courthouse_tt
			hidden_effect = {
				every_owned_province = {
					limit = {
						NOT = { has_building = town_hall }
					}
					add_building = courthouse
				}
			}
			custom_tooltip = THE_TFR_shadow_core_creation_add_courthouse_tt
			hidden_effect = {
				set_country_flag = THE_TFR_shadow_core_creation_add_courthouse_flag
			}
			custom_tooltip = empty_line_tt
			every_country = {
				limit = {
					capital_scope = {
						OR = {
							continent = gensokyo_continent
							continent = moon_continent
						}
					}
					NOT = { has_country_flag = THE_TFR_shadow_mission_flag }
				}
				add_stability = -1
			}
		} 
	}

	THE_TFR_shadow_4_4 = {
		icon = mission_unknown_mission
		position = 4
		required_missions = { THE_TFR_shadow_4_2 } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	THE_TFR_shadow_4_6 = {
		icon = mission_unknown_mission
		position = 6
		required_missions = { THE_TFR_shadow_3_5 } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}
}
THE_TFR_shadow_branch_5 = {
	slot = 5
	generic = no
	ai = yes
	has_country_shield = yes
	potential = {
		tag = TFR
		has_country_flag = THE_TFR_shadow_mission_flag
	} 

	THE_TFR_shadow_5_2 = {
		icon = mission_unknown_mission
		position = 2
		required_missions = { THE_TFR_shadow_3_1 } 
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	THE_TFR_shadow_5_5 = {
		icon = mission_unknown_mission
		position = 5
		required_missions = {
			THE_TFR_shadow_4_4
			THE_TFR_shadow_5_2
		}
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}

	THE_TFR_shadow_5_6 = {
		icon = mission_unknown_mission
		position = 6
		required_missions = {
			THE_TFR_shadow_3_5
			THE_TFR_shadow_5_5
		}
		provinces_to_highlight = {  } 

		trigger = {  } 

		effect = {  } 
	}
}
