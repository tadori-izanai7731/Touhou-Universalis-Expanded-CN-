THE_TFR_shadow_on_core_scripted_effect = {
	if = {
		limit = { FROM = { has_government_attribute = THE_TFR_shadow_core_creation_add_state_core_custom_attributes } }
		province_event = {
			id = THE_TFR_shadow_events.2
		}
	}
	if = {
		limit = {
			FROM = {
				has_country_flag = THE_TFR_shadow_core_creation_add_courthouse_flag
				NOT = { has_country_flag = THE_TFR_shadow_core_creation_add_town_hall_flag }
			}
			NOT = { has_building = town_hall }
		}
		add_building = courthouse
	}
	if = {
		limit = {
			FROM = { has_country_flag = THE_TFR_shadow_core_creation_add_5_capacity_flag }
		}
		FROM = {
			add_government_power = {
				mechanic_type = THE_TFR_shadow_mechanic
				power_type = THE_TFR_shadow_mechanic_power
				value = 0.05
			}
		}
	}
	if = {
		limit = {
			FROM = { has_country_flag = THE_TFR_shadow_core_creation_add_2000_manpower_flag }
		}
		FROM = {
			add_manpower = 2
		}
	}
}

THE_TFR_shadow_switch_ruler = {
	THE_TFR_shadow_switch_ruler_to_$ruler$ = yes
}